<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>è™šæ‹Ÿç”µå‚Â·æ¸©æ§è´Ÿè·æ•…éšœæ¢å¤ä»¿çœŸå¹³å°</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        /* ========== å…¨å±€ç§‘æŠ€æš—é»‘é£ ========== */
        :root {
            --bg: #0d1117;
            --card: #161b22;
            --primary: #58a6ff;
            --green: #238636;
            --red: #da3633;
            --text: #c9d1d9;
            --sub: #8b949e;
            --border: #30363d;
        }
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        body {
            background: var(--bg);
            color: var(--text);
            font-family: "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            overflow-x: hidden;
        }
        a {
            color: inherit;
            text-decoration: none;
        }
        /* ========== ç²’å­èƒŒæ™¯ ========== */
        #particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
        }
        /* ========== ä¸»å± ========== */
        .hero {
            position: relative;
            z-index: 1;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 2rem;
        }
        .hero h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            background: linear-gradient(90deg, var(--primary), #79c0ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .hero p {
            font-size: 1.2rem;
            color: var(--sub);
            margin-bottom: 3rem;
        }
        /* ========== æ¿å—å¡ç‰‡ ========== */
        .cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
            gap: 2rem;
            max-width: 1200px;
            width: 100%;
        }
        .card {
            background: var(--card);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 2rem;
            cursor: pointer;
            transition: transform .3s, box-shadow .3s;
            position: relative;
            overflow: hidden;
        }
        .card::before {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(88, 166, 255, 0.15), transparent);
            transition: left .6s;
        }
        .card:hover::before {
            left: 100%;
        }
        .card:hover {
            transform: translateY(-6px);
            box-shadow: 0 12px 24px rgba(88, 166, 255, .25);
        }
        .card h3 {
            margin-bottom: .8rem;
            font-size: 1.4rem;
            color: var(--primary);
        }
        .card p {
            color: var(--sub);
            line-height: 1.5;
        }
        /* ========== è¯¦æƒ…é¡µ ========== */
        .detail {
            display: none;
            position: relative;
            z-index: 2;
            max-width: 1000px;
            margin: 3rem auto;
            padding: 2rem;
            background: var(--card);
            border: 1px solid var(--border);
            border-radius: 12px;
            animation: fadeIn .5s;
        }
        .detail.active {
            display: block;
        }
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .detail header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        .detail h2 {
            color: var(--primary);
        }
        .close {
            cursor: pointer;
            font-size: 1.5rem;
            color: var(--sub);
            transition: color .2s;
        }
        .close:hover {
            color: var(--red);
        }
        /* ========== æ¨¡æ‹Ÿæ§åˆ¶å° ========== */
        .console {
            background: #010409;
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1rem;
            font-family: "Courier New", monospace;
            font-size: .9rem;
            color: #7ce38b;
            white-space: pre-wrap;
            max-height: 320px;
            overflow-y: auto;
        }
        /* ========== æŒ‰é’® ========== */
        button {
            background: var(--primary);
            color: #fff;
            border: none;
            padding: .6rem 1.2rem;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1rem;
            transition: background .2s;
        }
        button:hover {
            background: #79c0ff;
        }
        /* ========== å“åº”å¼ ========== */
        @media (max-width: 600px) {
            .hero h1 {
                font-size: 2.2rem;
            }
            .cards {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
<canvas id="particles"></canvas>

<!-- ä¸»é¡µ -->
<section class="hero" id="home">
    <h1>è™šæ‹Ÿç”µå‚ Â· æ¸©æ§è´Ÿè·æ•…éšœæ¢å¤ä»¿çœŸ</h1>
    <p>èšåˆæµ·é‡åˆ†æ•£æ¸©æ§è´Ÿè·ï¼Œæ‰“é€ å¯äº¤äº’ã€å¯è§†åŒ–çš„â€œæ•…éšœæ¢å¤ç¼“å†²å«â€</p >
    <div class="cards">
        <div class="card" onclick="show('scenario')">
            <h3>ğŸ¯ åœºæ™¯è®¾å®š</h3>
            <p>è‡ªå®šä¹‰æ•…éšœä½ç½®ã€å¤‡ç”¨å®¹é‡ä¸è´Ÿè·ä¼˜å…ˆçº§ï¼Œä¸€é”®ç”Ÿæˆæ¡ˆä¾‹ã€‚</p >
        </div>
        <div class="card" onclick="show('optimize')">
            <h3>âš™ï¸ ä¼˜åŒ–ç­–ç•¥</h3>
            <p>å¯¹æ¯”â€œç›²ç›®å…¨éƒ¨ä¾›ç”µâ€ä¸â€œæ™ºèƒ½æœ‰åºæ¢å¤â€ä¸¤ç§ç­–ç•¥çš„å·®å¼‚ã€‚</p >
        </div>
        <div class="card" onclick="show('topology')">
            <h3>ğŸŒ ç½‘ç»œæ‹“æ‰‘</h3>
            <p>å®æ—¶æ ‡ç»˜æ•…éšœç‚¹ã€è¢«åˆ‡è´Ÿè·ä¸æ¢å¤è·¯å¾„ï¼ŒåŠ¨æ€åˆ·æ–°ã€‚</p >
        </div>
        <div class="card" onclick="show('thermal')">
            <h3>ğŸŒ¡ï¸ æ¸©åº¦æ›²çº¿</h3>
            <p>éªŒè¯åˆ©ç”¨ç©ºè°ƒçƒ­æƒ¯æ€§å»¶è¿Ÿä¾›ç”µçš„å¯è¡Œæ€§ï¼Œç¡®ä¿ç”¨æˆ·èˆ’é€‚ã€‚</p >
        </div>
        <div class="card" onclick="show('about')">
            <h3>ğŸ“˜ é¡¹ç›®è¯´æ˜</h3>
            <p>æŠ€æœ¯è·¯çº¿ã€æ ¸å¿ƒç®—æ³•ä¸ GitHub ä»“åº“åœ°å€ã€‚</p >
        </div>
    </div>
</section>

<!-- åœºæ™¯è®¾å®š -->
<article class="detail" id="scenario">
    <header>
        <h2>åœºæ™¯è®¾å®š</h2>
        <span class="close" onclick="hide()">âœ–</span>
    </header>
    <p>æ‹–åŠ¨æ»‘å—å³å¯è°ƒæ•´å‚æ•°ï¼Œç‚¹å‡»â€œè¿è¡Œä¼˜åŒ–â€åå°†è‡ªåŠ¨è·³è½¬ç»“æœã€‚</p >
    <label>å¤‡ç”¨å®¹é‡ (kW): <input type="range" id="cap" min="20" max="100" value="50"><span id="capv">50</span></label><br><br>
    <label>å…è®¸æ¸©åº¦åç§» (â„ƒ): <input type="range" id="offset" min="1" max="5" value="2"><span id="offv">2</span></label><br><br>
    <button onclick="runOpt()">è¿è¡Œä¼˜åŒ–</button>
</article>

<!-- ä¼˜åŒ–ç­–ç•¥ -->
<article class="detail" id="optimize">
    <header>
        <h2>ä¼˜åŒ–ç­–ç•¥å¯¹æ¯”</h2>
        <span class="close" onclick="hide()">âœ–</span>
    </header>
    <p>ä¸‹æ–¹æ§åˆ¶å°å®æ—¶è¾“å‡ºä¸¤ç§ç­–ç•¥çš„è´Ÿè·æ¢å¤é‡ä¸é¢‘ç‡æ³¢åŠ¨ã€‚</p >
    <div class="console" id="optLog">ç­‰å¾…è¿è¡Œ â€¦</div>
</article>

<!-- ç½‘ç»œæ‹“æ‰‘ -->
<article class="detail" id="topology">
    <header>
        <h2>ç½‘ç»œæ‹“æ‰‘å›¾</h2>
        <span class="close" onclick="hide()">âœ–</span>
    </header>
    <p>ï¼ˆç¤ºæ„ï¼‰æ•…éšœç‚¹å·²æ ‡çº¢ï¼Œç»¿è‰²èŠ‚ç‚¹ä¸ºæˆåŠŸæ¢å¤è´Ÿè·ã€‚</p >
    <div class="console" id="topoLog">æ‹“æ‰‘æ•°æ®åŠ è½½ä¸­ â€¦</div>
</article>

<!-- æ¸©åº¦æ›²çº¿ -->
<article class="detail" id="thermal">
    <header>
        <h2>ç©ºè°ƒæ¸©åº¦æ›²çº¿</h2>
        <span class="close" onclick="hide()">âœ–</span>
    </header>
    <p>å»¶è¿Ÿä¾›ç”µçš„ 5 å°ç©ºè°ƒå®¤æ¸©ä»åœ¨èˆ’é€‚åŒºé—´ï¼ŒéªŒè¯çƒ­æƒ¯æ€§å¯è¡Œã€‚</p >
    <div class="console" id="thermalLog">æ¸©åº¦æ•°æ®åŠ è½½ä¸­ â€¦</div>
</article>

<!-- é¡¹ç›®è¯´æ˜ -->
<article class="detail" id="about">
    <header>
        <h2>é¡¹ç›®è¯´æ˜</h2>
        <span class="close" onclick="hide()">âœ–</span>
    </header>
    <p>
        æœ¬ç½‘ç«™é€šè¿‡çº¯å‰ç«¯æ–¹å¼æ¼”ç¤ºâ€œæ¸©æ§è´Ÿè·èšåˆè™šæ‹Ÿç”µå‚â€åœ¨é…ç”µç½‘æ•…éšœæ¢å¤ä¸­çš„ä»·å€¼ã€‚  
        æ ¸å¿ƒæ€è·¯ï¼šåˆ©ç”¨ç©ºè°ƒ/å†·é“¾çš„çƒ­æƒ¯æ€§ï¼ŒçŸ­æ—¶æ”¾å®½æ¸©åº¦åŒºé—´ â†’ é‡Šæ”¾åŠŸç‡ç¼“å†² â†’ ä¼˜å…ˆæ¢å¤é«˜ä»·å€¼è´Ÿè·ã€‚  
    </p >
    <p>
        åç«¯ç®—æ³•å¯é‡‡ç”¨ Python + OR-Tools æ±‚è§£æ··åˆæ•´æ•°è§„åˆ’ï¼Œæˆ–ç›´æ¥è°ƒç”¨ Matpower/OpenDSS è¿›è¡Œæ½®æµè®¡ç®—ã€‚  
        ä»“åº“åœ°å€ï¼ˆæ¬¢è¿ Star & Forkï¼‰ï¼š
        <a href=" " target="_blank">https://github.com/yourname/VirtualPowerPlant-TCL</a >
    </p >
</article>

<script>
    /* ========== ç²’å­èƒŒæ™¯ ========== */
    const canvas = document.getElementById('particles');
    const ctx = canvas.getContext('2d');
    let w, h, particles;
    function resize() {
        w = canvas.width = window.innerWidth;
        h = canvas.height = window.innerHeight;
        particles = [];
        for (let i = 0; i < Math.floor(w * h / 18000); i++) {
            particles.push({
                x: Math.random() * w,
                y: Math.random() * h,
                r: Math.random() * 1.2,
                d: Math.random() * 0.4 + 0.2
            });
        }
    }
    window.addEventListener('resize', resize);
    resize();
    function drawParticles() {
        ctx.clearRect(0, 0, w, h);
        ctx.fillStyle = 'rgba(88, 166, 255, 0.35)';
        particles.forEach(p => {
            ctx.beginPath();
            ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
            ctx.fill();
            p.y += p.d;
            if (p.y > h) p.y = 0;
        });
        requestAnimationFrame(drawParticles);
    }
    drawParticles();

    /* ========== æ¿å—åˆ‡æ¢ ========== */
    function show(id) {
        document.querySelectorAll('.detail').forEach(el => el.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        window.scrollTo({top: 0, behavior: 'smooth'});
        // æ ¹æ®ä¸åŒæ¿å—åŠ è½½å‡æ•°æ®
        if (id === 'thermal') {
            document.getElementById('thermalLog').textContent =
`ç©ºè°ƒç¼–å· | å»¶è¿Ÿä¾›ç”µ(min) | æ¸©åº¦å˜åŒ–(â„ƒ)
#A103     15             25â†’27.1
#A105     18             24.5â†’26.8
#A202     12             25.3â†’27.0
#A204     20             24.8â†’27.2
#A306     14             25.1â†’26.9
ï¼ˆå‡åœ¨èˆ’é€‚åŒºé—´ 24-28â„ƒ å†…ï¼‰`;
        }
        if (id === 'topoLog') {
            document.getElementById('topoLog').textContent =
`èŠ‚ç‚¹  çŠ¶æ€        å¤‡æ³¨
#1    æ­£å¸¸        ä¸»ç”µæº
#2    æ•…éšœ        çº¿è·¯è·³é—¸
#3    å·²æ¢å¤      å……ç”µç«™(é«˜ä¼˜å…ˆçº§)
#4    å·²æ¢å¤      ç©ºè°ƒ#A103,#A105
#5    å»¶è¿Ÿ        ç©ºè°ƒ#A202,#A20